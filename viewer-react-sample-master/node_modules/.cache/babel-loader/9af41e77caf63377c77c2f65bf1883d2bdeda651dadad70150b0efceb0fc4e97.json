{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicol\\\\ProyectosWeb\\\\icd\\\\icd7\\\\icd\\\\src\\\\components\\\\Viewer.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport '../extensions/FiltrosVisuales.js';\nimport '../extensions/HandleSelectionExtension.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Autodesk\n} = window;\nfunction initializeViewerRuntime(options) {\n  const runtime = {\n    options: null,\n    ready: null\n  };\n  if (!runtime.ready) {\n    runtime.options = {\n      ...options\n    };\n    runtime.ready = new Promise(resolve => Autodesk.Viewing.Initializer(runtime.options, resolve));\n  } else {\n    if (['accessToken', 'getAccessToken', 'env', 'api', 'language'].some(prop => options[prop] !== runtime.options[prop])) {\n      return Promise.reject('Cannot initialize another viewer runtime with different settings.');\n    }\n  }\n  return runtime.ready;\n}\nclass Viewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onViewerCameraChange = () => {\n      if (this.props.onCameraChange) {\n        this.props.onCameraChange({\n          viewer: this.viewer,\n          camera: this.viewer.getCamera()\n        });\n      }\n    };\n    this.onViewerSelectionChange = () => {\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange({\n          viewer: this.viewer,\n          ids: this.viewer.getSelection()\n        });\n      }\n    };\n    this.adjustToolbarStyle = () => {\n      const toolbar = this.viewer.getToolbar(true).container;\n      toolbar.style.bottom = '150px';\n    };\n    this.container = null;\n    this.viewer = null;\n  }\n  componentDidMount() {\n    initializeViewerRuntime(this.props.runtime || {}).then(() => {\n      this.viewer = new Autodesk.Viewing.GuiViewer3D(this.container);\n      this.viewer.start();\n      this.viewer.loadExtension('FiltrosVisuales');\n      this.viewer.loadExtension('HandleSelectionExtension');\n      this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onViewerCameraChange);\n      this.viewer.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, this.onViewerSelectionChange);\n      this.viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, this.adjustToolbarStyle);\n    }).catch(err => console.error(err));\n  }\n  componentWillUnmount() {\n    if (this.viewer) {\n      this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onViewerCameraChange);\n      this.viewer.removeEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, this.onViewerSelectionChange);\n      this.viewer.removeEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, this.adjustToolbarStyle);\n      this.viewer.finish();\n      this.viewer = null;\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ref => this.container = ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 16\n    }, this);\n  }\n}\nViewer.propTypes = {\n  runtime: PropTypes.object,\n  urn: PropTypes.string,\n  selectedIds: PropTypes.arrayOf(PropTypes.number),\n  onCameraChange: PropTypes.func,\n  onSelectionChange: PropTypes.func\n};\nexport default Viewer;","map":{"version":3,"names":["React","PropTypes","jsxDEV","_jsxDEV","Autodesk","window","initializeViewerRuntime","options","runtime","ready","Promise","resolve","Viewing","Initializer","some","prop","reject","Viewer","Component","constructor","props","onViewerCameraChange","onCameraChange","viewer","camera","getCamera","onViewerSelectionChange","onSelectionChange","ids","getSelection","adjustToolbarStyle","toolbar","getToolbar","container","style","bottom","componentDidMount","then","GuiViewer3D","start","loadExtension","addEventListener","CAMERA_CHANGE_EVENT","SELECTION_CHANGED_EVENT","GEOMETRY_LOADED_EVENT","catch","err","console","error","componentWillUnmount","removeEventListener","finish","render","ref","fileName","_jsxFileName","lineNumber","columnNumber","propTypes","object","urn","string","selectedIds","arrayOf","number","func"],"sources":["C:/Users/nicol/ProyectosWeb/icd/icd7/icd/src/components/Viewer.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../extensions/FiltrosVisuales.js';  \nimport '../extensions/HandleSelectionExtension.js';\n\nconst { Autodesk } = window;\n\nfunction initializeViewerRuntime(options) {\n    const runtime = {\n        options: null,\n        ready: null\n    };\n\n    if (!runtime.ready) {\n        runtime.options = { ...options };\n        runtime.ready = new Promise((resolve) => Autodesk.Viewing.Initializer(runtime.options, resolve));\n    } else {\n        if (['accessToken', 'getAccessToken', 'env', 'api', 'language'].some(prop => options[prop] !== runtime.options[prop])) {\n            return Promise.reject('Cannot initialize another viewer runtime with different settings.');\n        }\n    }\n    return runtime.ready;\n}\n\nclass Viewer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.container = null;\n        this.viewer = null;\n    }\n\n    componentDidMount() {\n        initializeViewerRuntime(this.props.runtime || {})\n            .then(() => {\n                this.viewer = new Autodesk.Viewing.GuiViewer3D(this.container);\n                this.viewer.start();\n                this.viewer.loadExtension('FiltrosVisuales');\n                this.viewer.loadExtension('HandleSelectionExtension');\n                this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onViewerCameraChange);\n                this.viewer.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, this.onViewerSelectionChange);\n                this.viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, this.adjustToolbarStyle);\n            })\n            .catch(err => console.error(err));\n    }\n\n    componentWillUnmount() {\n        if (this.viewer) {\n            this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onViewerCameraChange);\n            this.viewer.removeEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, this.onViewerSelectionChange);\n            this.viewer.removeEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, this.adjustToolbarStyle);\n            this.viewer.finish();\n            this.viewer = null;\n        }\n    }\n\n    onViewerCameraChange = () => {\n        if (this.props.onCameraChange) {\n            this.props.onCameraChange({ viewer: this.viewer, camera: this.viewer.getCamera() });\n        }\n    }\n\n    onViewerSelectionChange = () => {\n        if (this.props.onSelectionChange) {\n            this.props.onSelectionChange({ viewer: this.viewer, ids: this.viewer.getSelection() });\n        }\n    }\n\n    adjustToolbarStyle = () => {\n        const toolbar = this.viewer.getToolbar(true).container;\n        toolbar.style.bottom = '150px';\n    };\n\n    render() {\n        return <div ref={ref => this.container = ref}></div>;\n    }\n}\n\nViewer.propTypes = {\n    runtime: PropTypes.object,\n    urn: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.number),\n    onCameraChange: PropTypes.func,\n    onSelectionChange: PropTypes.func\n};\n\nexport default Viewer;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,kCAAkC;AACzC,OAAO,2CAA2C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAM;EAAEC;AAAS,CAAC,GAAGC,MAAM;AAE3B,SAASC,uBAAuBA,CAACC,OAAO,EAAE;EACtC,MAAMC,OAAO,GAAG;IACZD,OAAO,EAAE,IAAI;IACbE,KAAK,EAAE;EACX,CAAC;EAED,IAAI,CAACD,OAAO,CAACC,KAAK,EAAE;IAChBD,OAAO,CAACD,OAAO,GAAG;MAAE,GAAGA;IAAQ,CAAC;IAChCC,OAAO,CAACC,KAAK,GAAG,IAAIC,OAAO,CAAEC,OAAO,IAAKP,QAAQ,CAACQ,OAAO,CAACC,WAAW,CAACL,OAAO,CAACD,OAAO,EAAEI,OAAO,CAAC,CAAC;EACpG,CAAC,MAAM;IACH,IAAI,CAAC,aAAa,EAAE,gBAAgB,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC,CAACG,IAAI,CAACC,IAAI,IAAIR,OAAO,CAACQ,IAAI,CAAC,KAAKP,OAAO,CAACD,OAAO,CAACQ,IAAI,CAAC,CAAC,EAAE;MACnH,OAAOL,OAAO,CAACM,MAAM,CAAC,mEAAmE,CAAC;IAC9F;EACJ;EACA,OAAOR,OAAO,CAACC,KAAK;AACxB;AAEA,MAAMQ,MAAM,SAASjB,KAAK,CAACkB,SAAS,CAAC;EACjCC,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KA6BjBC,oBAAoB,GAAG,MAAM;MACzB,IAAI,IAAI,CAACD,KAAK,CAACE,cAAc,EAAE;QAC3B,IAAI,CAACF,KAAK,CAACE,cAAc,CAAC;UAAEC,MAAM,EAAE,IAAI,CAACA,MAAM;UAAEC,MAAM,EAAE,IAAI,CAACD,MAAM,CAACE,SAAS,CAAC;QAAE,CAAC,CAAC;MACvF;IACJ,CAAC;IAAA,KAEDC,uBAAuB,GAAG,MAAM;MAC5B,IAAI,IAAI,CAACN,KAAK,CAACO,iBAAiB,EAAE;QAC9B,IAAI,CAACP,KAAK,CAACO,iBAAiB,CAAC;UAAEJ,MAAM,EAAE,IAAI,CAACA,MAAM;UAAEK,GAAG,EAAE,IAAI,CAACL,MAAM,CAACM,YAAY,CAAC;QAAE,CAAC,CAAC;MAC1F;IACJ,CAAC;IAAA,KAEDC,kBAAkB,GAAG,MAAM;MACvB,MAAMC,OAAO,GAAG,IAAI,CAACR,MAAM,CAACS,UAAU,CAAC,IAAI,CAAC,CAACC,SAAS;MACtDF,OAAO,CAACG,KAAK,CAACC,MAAM,GAAG,OAAO;IAClC,CAAC;IA3CG,IAAI,CAACF,SAAS,GAAG,IAAI;IACrB,IAAI,CAACV,MAAM,GAAG,IAAI;EACtB;EAEAa,iBAAiBA,CAAA,EAAG;IAChB9B,uBAAuB,CAAC,IAAI,CAACc,KAAK,CAACZ,OAAO,IAAI,CAAC,CAAC,CAAC,CAC5C6B,IAAI,CAAC,MAAM;MACR,IAAI,CAACd,MAAM,GAAG,IAAInB,QAAQ,CAACQ,OAAO,CAAC0B,WAAW,CAAC,IAAI,CAACL,SAAS,CAAC;MAC9D,IAAI,CAACV,MAAM,CAACgB,KAAK,CAAC,CAAC;MACnB,IAAI,CAAChB,MAAM,CAACiB,aAAa,CAAC,iBAAiB,CAAC;MAC5C,IAAI,CAACjB,MAAM,CAACiB,aAAa,CAAC,0BAA0B,CAAC;MACrD,IAAI,CAACjB,MAAM,CAACkB,gBAAgB,CAACrC,QAAQ,CAACQ,OAAO,CAAC8B,mBAAmB,EAAE,IAAI,CAACrB,oBAAoB,CAAC;MAC7F,IAAI,CAACE,MAAM,CAACkB,gBAAgB,CAACrC,QAAQ,CAACQ,OAAO,CAAC+B,uBAAuB,EAAE,IAAI,CAACjB,uBAAuB,CAAC;MACpG,IAAI,CAACH,MAAM,CAACkB,gBAAgB,CAACrC,QAAQ,CAACQ,OAAO,CAACgC,qBAAqB,EAAE,IAAI,CAACd,kBAAkB,CAAC;IACjG,CAAC,CAAC,CACDe,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;EACzC;EAEAG,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAAC1B,MAAM,EAAE;MACb,IAAI,CAACA,MAAM,CAAC2B,mBAAmB,CAAC9C,QAAQ,CAACQ,OAAO,CAAC8B,mBAAmB,EAAE,IAAI,CAACrB,oBAAoB,CAAC;MAChG,IAAI,CAACE,MAAM,CAAC2B,mBAAmB,CAAC9C,QAAQ,CAACQ,OAAO,CAAC+B,uBAAuB,EAAE,IAAI,CAACjB,uBAAuB,CAAC;MACvG,IAAI,CAACH,MAAM,CAAC2B,mBAAmB,CAAC9C,QAAQ,CAACQ,OAAO,CAACgC,qBAAqB,EAAE,IAAI,CAACd,kBAAkB,CAAC;MAChG,IAAI,CAACP,MAAM,CAAC4B,MAAM,CAAC,CAAC;MACpB,IAAI,CAAC5B,MAAM,GAAG,IAAI;IACtB;EACJ;EAmBA6B,MAAMA,CAAA,EAAG;IACL,oBAAOjD,OAAA;MAAKkD,GAAG,EAAEA,GAAG,IAAI,IAAI,CAACpB,SAAS,GAAGoB;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EACxD;AACJ;AAEAxC,MAAM,CAACyC,SAAS,GAAG;EACflD,OAAO,EAAEP,SAAS,CAAC0D,MAAM;EACzBC,GAAG,EAAE3D,SAAS,CAAC4D,MAAM;EACrBC,WAAW,EAAE7D,SAAS,CAAC8D,OAAO,CAAC9D,SAAS,CAAC+D,MAAM,CAAC;EAChD1C,cAAc,EAAErB,SAAS,CAACgE,IAAI;EAC9BtC,iBAAiB,EAAE1B,SAAS,CAACgE;AACjC,CAAC;AAED,eAAehD,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}